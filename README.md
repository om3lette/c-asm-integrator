# Integrator and root finder

Library written as a homework assignment during HSE SE ASM course.

> [!NOTE]
> make and automake is required to build the project

## How to start

```bash
git clone --recursive <REPO_URL>
```

## How to build

Make is used to build the project. There are multiple implementations of the `root` func available.

### ROOT_METHOD:

| Method        | Macro value | Brief description                                                                |
| ------------- | :---------: | -------------------------------------------------------------------------------- |
| **Bisection** |      1      | Repeated halving of `[a,b]`                                                      |
| **Secant**    |      2      | Chord between `(a,H(a))` and `(b,H(b))`.                                         |
| **Newton**    |      3      | <code>x<sub>n</sub> = x<sub>n</sub> − H(x<sub>n</sub>)/H′(x<sub>n</sub>).</code> |
| **Combined**  |      4      | One Newton update + one Secant update per step                                   |

Default value: 3

### Default build

```bash
make
```

### With custom root impl

```bash
ROOT_METHOD=4 make
```

## Makefile

| Target          | Available flags      | Description                                              |
| --------------- | -------------------- | -------------------------------------------------------- |
| **all**         | `ROOT_METHOD`        | Builds the entire project                                |
| **build**       | `ROOT_METHOD`        | Builds core library                                      |
| **build_tests** | <center>`-`</center> | Builds tests                                             |
| **deps**        | <center>`-`</center> | Builds dependencies                                      |
| **test**        | <center>`-`</center> | Runs test cases (build tests if missing)                 |
| **clean**       | <center>`-`</center> | Removes all `BUILD` artefacts generated by build process |

## Usage

### No flags

By default finds an area of a figure limited by predefined function in `src/functions/asm`.\
Outputs the answer, absolute error, relative error

```cmd
./integral
9.806945 -0.000000 -0.000000
```

### `--test-root`

Accepts argument in the following form

| Flag long      | Flag short | Description                                             |
| -------------- | ---------- | ------------------------------------------------------- |
| `--root`       | `-r`       | Explicitly displays the root value                      |
| `--iterations` | `-i`       | Displays number of iterations taken when finding `root` |

#### Example:

Accepts a required argument `F1:F2:A:B:E:R`

| Argument              | Type     | Meaning               |
| --------------------- | -------- | --------------------- |
| <center>`F1`</center> | `int`    | First function index  |
| <center>`F2`</center> | `int`    | Seconf function index |
| <center>`A`</center>  | `double` | Left border           |
| <center>`B`</center>  | `double` | Right limit           |
| <center>`E`</center>  | `double` | Precision             |
| <center>`R`</center>  | `double` | Expected answer       |

```cmd
./integral --test-root 2:3:-100.0:-0.01:0.001:-0.54951 -r -i
-0.549510 -0.000000 0.000000
Root: -0.549510
Iterations: 10
```

### `--test-integral`

| Argument             | Type     | Meaning                     |
| -------------------- | -------- | --------------------------- |
| <center>`F`</center> | `int`    | Function index to integrate |
| <center>`A`</center> | `double` | Lower limit                 |
| <center>`B`</center> | `double` | Upper limit                 |
| <center>`E`</center> | `double` | Precision                   |
| <center>`R`</center> | `double` | Expected answer             |

| Flag long      | Flag short | Description                                                 |
| -------------- | ---------- | ----------------------------------------------------------- |
| `--iterations` | `-i`       | Displays number of iterations taken when finding `integral` |

#### Example:

```cmd
./integral --test-integral 2:2.0:4.0:0.000000000001:4.0 -i
4.000000 0.000000 0.000000
Iterations (Runge): 2
```
